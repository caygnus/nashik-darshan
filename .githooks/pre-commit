#!/bin/bash
set -e

export PATH="$PATH:$(go env GOPATH)/bin"

echo "ğŸ”§ Running go fmt..."
unformatted=$(gofmt -l .)
if [ -n "$unformatted" ]; then
  echo "âŒ Unformatted files:"
  echo "$unformatted"
  echo "ğŸ’¡ Run 'gofmt -w .' to fix."
  exit 1
fi

echo "ğŸ” Running go vet..."
go vet ./...

echo "ğŸ§¹ Running golangci-lint..."
golangci-lint run

echo "ğŸ”¨ Building the project..."
go build ./...

echo "âœ… All checks passed!"

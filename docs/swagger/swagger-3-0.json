{"openapi":"3.0.1","info":{"title":"Nashik Darshan API","description":"API for Nashik Darshan","termsOfService":"http://nashikdarshan.com/terms/","contact":{"name":"API Support","email":"support@nashikdarshan.com"},"version":"1.0"},"servers":[{"url":"https://5p9ubi66hh.execute-api.ap-south-1.amazonaws.com/v1"}],"paths":{"/auth/signup":{"post":{"tags":["Auth"],"summary":"Signup","description":"Signup","requestBody":{"description":"Signup request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.SignupRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.SignupResponse"}}}}},"x-codegen-request-body-name":"signupRequest"}},"/categories":{"get":{"tags":["Category"],"summary":"List categories","description":"Get a paginated list of categories with filtering and pagination","parameters":[{"name":"limit","in":"query","description":"Limit","schema":{"type":"integer"}},{"name":"offset","in":"query","description":"Offset","schema":{"type":"integer"}},{"name":"status","in":"query","description":"Status","schema":{"type":"string"}},{"name":"sort","in":"query","description":"Sort field","schema":{"type":"string"}},{"name":"order","in":"query","description":"Sort order (asc/desc)","schema":{"type":"string"}},{"name":"slug","in":"query","description":"Filter by slugs","style":"form","explode":false,"schema":{"type":"array","items":{"type":"string"}}},{"name":"name","in":"query","description":"Filter by names","style":"form","explode":false,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.ListCategoriesResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}}},"post":{"tags":["Category"],"summary":"Create a new category","description":"Create a new category with the provided details","requestBody":{"description":"Create category request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.CreateCategoryRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.CategoryResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}],"x-codegen-request-body-name":"request"}},"/categories/slug/{slug}":{"get":{"tags":["Category"],"summary":"Get category by slug","description":"Get a category by its slug","parameters":[{"name":"slug","in":"path","description":"Category slug","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.CategoryResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}}}},"/categories/{id}":{"get":{"tags":["Category"],"summary":"Get category by ID","description":"Get a category by its ID","parameters":[{"name":"id","in":"path","description":"Category ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.CategoryResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}}},"put":{"tags":["Category"],"summary":"Update a category","description":"Update an existing category","parameters":[{"name":"id","in":"path","description":"Category ID","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Update category request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.UpdateCategoryRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.CategoryResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}],"x-codegen-request-body-name":"request"},"delete":{"tags":["Category"],"summary":"Delete a category","description":"Soft delete a category","parameters":[{"name":"id","in":"path","description":"Category ID","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content","content":{}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}]}},"/feed":{"post":{"tags":["Place"],"summary":"Get feed data","description":"Get feed data with multiple sections (trending, popular, latest, nearby)","requestBody":{"description":"dto.FeedRequest","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.FeedRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.FeedResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"x-codegen-request-body-name":"request"}},"/health":{"post":{"tags":["Health"],"summary":"Authenticated health check","description":"Health check that validates API key or JWT; returns status and user_id","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":true}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}]}},"/places":{"get":{"tags":["Place"],"summary":"List places","description":"Get a paginated list of places with filtering and pagination","parameters":[{"name":"end_time","in":"query","schema":{"type":"string"}},{"name":"expand","in":"query","schema":{"type":"string"}},{"name":"limit","in":"query","schema":{"maximum":1000,"minimum":1,"type":"integer"}},{"name":"min_rating_avg","in":"query","schema":{"type":"number"}},{"name":"min_rating_count","in":"query","description":"Optional quality gate (e.g. min reviews / min rating to appear in feed)","schema":{"minimum":0,"type":"integer"}},{"name":"offset","in":"query","schema":{"minimum":0,"type":"integer"}},{"name":"order","in":"query","schema":{"type":"string","enum":["asc","desc"]}},{"name":"place_types","in":"query","style":"form","explode":false,"schema":{"type":"array","items":{"type":"string"}}},{"name":"radius_m","in":"query","description":"radius in meters (cap: 15km for v1)","schema":{"type":"number"}},{"name":"search_query","in":"query","description":"Search","schema":{"type":"string"}},{"name":"slug","in":"query","description":"Custom filters","style":"form","explode":false,"schema":{"type":"array","items":{"type":"string"}}},{"name":"sort","in":"query","schema":{"type":"string"}},{"name":"start_time","in":"query","schema":{"type":"string"}},{"name":"status","in":"query","schema":{"type":"string","enum":["published","draft","archived","deleted"],"x-enum-varnames":["StatusPublished","StatusDraft","StatusArchived","StatusDeleted"]},"x-enum-varnames":["StatusPublished","StatusDraft","StatusArchived","StatusDeleted"]}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.ListPlacesResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}}},"post":{"tags":["Place"],"summary":"Create a new place","description":"Create a new place with the provided details","requestBody":{"description":"dto.CreatePlaceRequest","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.CreatePlaceRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.PlaceResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}],"x-codegen-request-body-name":"request"}},"/places/images/{image_id}":{"put":{"tags":["Place"],"summary":"Update place image","description":"Update an existing place image","parameters":[{"name":"image_id","in":"path","description":"Image ID","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"dto.UpdatePlaceImageRequest","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.UpdatePlaceImageRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.PlaceImageResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}],"x-codegen-request-body-name":"request"},"delete":{"tags":["Place"],"summary":"Delete place image","description":"Delete a place image","parameters":[{"name":"image_id","in":"path","description":"Image ID","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content","content":{}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}]}},"/places/refresh-scores":{"post":{"tags":["Place"],"summary":"Refresh place scores","description":"Recalculates popularity_score for all places; for use by cron. Requires authentication.","responses":{"200":{"description":"e.g. {\\\"places_updated\\\": N}","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"integer"}}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}]}},"/places/slug/{slug}":{"get":{"tags":["Place"],"summary":"Get place by slug","description":"Get a place by its slug","parameters":[{"name":"slug","in":"path","description":"Place slug","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.PlaceResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}}}},"/places/{id}":{"get":{"tags":["Place"],"summary":"Get place by ID","description":"Get a place by its ID","parameters":[{"name":"id","in":"path","description":"Place ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.PlaceResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}}},"put":{"tags":["Place"],"summary":"Update a place","description":"Update an existing place","parameters":[{"name":"id","in":"path","description":"Place ID","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"dto.UpdatePlaceRequest","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.UpdatePlaceRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.PlaceResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}],"x-codegen-request-body-name":"request"},"delete":{"tags":["Place"],"summary":"Delete a place","description":"Soft delete a place","parameters":[{"name":"id","in":"path","description":"Place ID","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content","content":{}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}]}},"/places/{id}/categories":{"put":{"tags":["Place"],"summary":"Assign categories to a place","description":"Assign categories to a place by replacing existing category relationships","parameters":[{"name":"id","in":"path","description":"Place ID","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"dto.AssignCategoriesRequest","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.AssignCategoriesRequest"}}},"required":true},"responses":{"204":{"description":"No Content","content":{}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}],"x-codegen-request-body-name":"request"}},"/places/{id}/images":{"get":{"tags":["Place"],"summary":"Get place images","description":"Get all images for a place","parameters":[{"name":"id","in":"path","description":"Place ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/dto.PlaceImageResponse"}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}}},"post":{"tags":["Place"],"summary":"Add image to place","description":"Add an image to a place","parameters":[{"name":"id","in":"path","description":"Place ID","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"dto.CreatePlaceImageRequest","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.CreatePlaceImageRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.PlaceImageResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}],"x-codegen-request-body-name":"request"}},"/places/{id}/view":{"post":{"tags":["Place"],"summary":"Increment view count for a place","description":"Increment the view count for a specific place","parameters":[{"name":"id","in":"path","description":"Place ID","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content","content":{}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}}}},"/reviews":{"get":{"tags":["Reviews"],"summary":"List reviews","description":"Get a paginated list of reviews with filtering","parameters":[{"name":"limit","in":"query","description":"Limit","schema":{"type":"integer"}},{"name":"offset","in":"query","description":"Offset","schema":{"type":"integer"}},{"name":"entity_type","in":"query","description":"Entity type (place, experience, etc.)","schema":{"type":"string"}},{"name":"entity_id","in":"query","description":"Entity ID","schema":{"type":"string"}},{"name":"user_id","in":"query","description":"User ID","schema":{"type":"string"}},{"name":"min_rating","in":"query","description":"Minimum rating","schema":{"type":"number"}},{"name":"max_rating","in":"query","description":"Maximum rating","schema":{"type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/types.ListResponse-dto_ReviewResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}}},"post":{"tags":["Reviews"],"summary":"Create a new review","description":"Create a new review for a place or other entity","requestBody":{"description":"Create review request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.CreateReviewRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.ReviewResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}],"x-codegen-request-body-name":"request"}},"/reviews/stats/{entityType}/{entityId}":{"get":{"tags":["Reviews"],"summary":"Get rating statistics","description":"Get rating statistics for an entity (place, experience, etc.)","parameters":[{"name":"entityType","in":"path","description":"Entity type (place, experience, etc.)","required":true,"schema":{"type":"string"}},{"name":"entityId","in":"path","description":"Entity ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.RatingStatsResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}}}},"/reviews/{id}":{"get":{"tags":["Reviews"],"summary":"Get review by ID","description":"Get a review by its ID","parameters":[{"name":"id","in":"path","description":"Review ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.ReviewResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}}},"put":{"tags":["Reviews"],"summary":"Update a review","description":"Update an existing review","parameters":[{"name":"id","in":"path","description":"Review ID","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Update review request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.UpdateReviewRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.ReviewResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}],"x-codegen-request-body-name":"request"},"delete":{"tags":["Reviews"],"summary":"Delete a review","description":"Delete a review","parameters":[{"name":"id","in":"path","description":"Review ID","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content","content":{}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}]}},"/secrets/api-keys":{"get":{"tags":["Secrets"],"summary":"List API keys","description":"List all API keys for the current user","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.ListAPIKeysResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}]},"post":{"tags":["Secrets"],"summary":"Create a new API key","description":"Create a new API key (private or publishable). The raw key is returned only once.","requestBody":{"description":"Create API key request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.CreateAPIKeyRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.CreateAPIKeyResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}],"x-codegen-request-body-name":"request"}},"/secrets/api-keys/{id}":{"get":{"tags":["Secrets"],"summary":"Get API key by ID","description":"Get a specific API key by its ID","parameters":[{"name":"id","in":"path","description":"API Key ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.APIKeyResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}]},"delete":{"tags":["Secrets"],"summary":"Delete API key","description":"Delete (archive) an API key","parameters":[{"name":"id","in":"path","description":"API Key ID","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content","content":{}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}]},"patch":{"tags":["Secrets"],"summary":"Update API key","description":"Update an API key (name, permissions, or status)","parameters":[{"name":"id","in":"path","description":"API Key ID","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Update API key request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.UpdateAPIKeyRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.APIKeyResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"security":[{"Authorization":[]},{"ApiKeyAuth":[]}],"x-codegen-request-body-name":"request"}},"/user":{"put":{"tags":["User"],"summary":"Update current user","description":"Update the current user's information","requestBody":{"description":"Update user request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.UpdateUserRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.MeResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}},"x-codegen-request-body-name":"request"}},"/user/me":{"get":{"tags":["User"],"summary":"Get current user","description":"Get the current user's information","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.MeResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ierr.ErrorResponse"}}}}}}}},"components":{"schemas":{"category.Category":{"type":"object","properties":{"created_at":{"type":"string"},"created_by":{"type":"string"},"description":{"type":"string"},"id":{"type":"string"},"metadata":{"$ref":"#/components/schemas/types.Metadata"},"name":{"type":"string"},"slug":{"type":"string"},"status":{"$ref":"#/components/schemas/types.Status"},"updated_at":{"type":"string"},"updated_by":{"type":"string"}}},"dto.APIKeyResponse":{"type":"object","properties":{"created_at":{"type":"string"},"expires_at":{"type":"string"},"id":{"type":"string"},"last_used_at":{"type":"string"},"name":{"type":"string"},"permissions":{"type":"array","items":{"type":"string"}},"prefix":{"type":"string"},"status":{"type":"string"},"type":{"type":"string"},"updated_at":{"type":"string"}}},"dto.AssignCategoriesRequest":{"required":["category_ids"],"type":"object","properties":{"category_ids":{"minItems":0,"type":"array","items":{"type":"string"}}}},"dto.CategoryResponse":{"type":"object","properties":{"created_at":{"type":"string"},"created_by":{"type":"string"},"description":{"type":"string"},"id":{"type":"string"},"metadata":{"$ref":"#/components/schemas/types.Metadata"},"name":{"type":"string"},"slug":{"type":"string"},"status":{"$ref":"#/components/schemas/types.Status"},"updated_at":{"type":"string"},"updated_by":{"type":"string"}}},"dto.CreateAPIKeyRequest":{"required":["name","type"],"type":"object","properties":{"name":{"maxLength":255,"minLength":2,"type":"string"},"permissions":{"type":"array","items":{"type":"string"}},"type":{"type":"string","enum":["private_key","publishable_key"]}}},"dto.CreateAPIKeyResponse":{"type":"object","properties":{"created_at":{"type":"string"},"expires_at":{"type":"string"},"id":{"type":"string"},"key":{"type":"string","description":"Raw key, only returned once"},"last_used_at":{"type":"string"},"name":{"type":"string"},"permissions":{"type":"array","items":{"type":"string"}},"prefix":{"type":"string"},"status":{"type":"string"},"type":{"type":"string"},"updated_at":{"type":"string"}}},"dto.CreateCategoryRequest":{"required":["name","slug"],"type":"object","properties":{"description":{"maxLength":2000,"type":"string"},"metadata":{"$ref":"#/components/schemas/types.Metadata"},"name":{"maxLength":255,"minLength":2,"type":"string"},"slug":{"maxLength":100,"minLength":3,"type":"string"}}},"dto.CreatePlaceImageRequest":{"required":["url"],"type":"object","properties":{"alt":{"maxLength":255,"type":"string"},"metadata":{"$ref":"#/components/schemas/types.Metadata"},"pos":{"maximum":100,"minimum":0,"type":"integer"},"url":{"maxLength":500,"type":"string"}}},"dto.CreatePlaceRequest":{"required":["location","place_type","slug","title"],"type":"object","properties":{"address":{"type":"object","additionalProperties":{"type":"string"}},"location":{"$ref":"#/components/schemas/types.GeoPoint"},"long_description":{"maxLength":10000,"type":"string"},"place_type":{"$ref":"#/components/schemas/types.PlaceType"},"primary_image_url":{"maxLength":500,"type":"string"},"short_description":{"maxLength":1000,"type":"string"},"slug":{"maxLength":100,"minLength":3,"type":"string"},"subtitle":{"maxLength":500,"type":"string"},"thumbnail_url":{"maxLength":500,"type":"string"},"title":{"maxLength":255,"minLength":2,"type":"string"}}},"dto.CreateReviewRequest":{"required":["entity_id","entity_type","rating"],"type":"object","properties":{"content":{"maxLength":3000,"type":"string"},"entity_id":{"maxLength":100,"minLength":1,"type":"string"},"entity_type":{"$ref":"#/components/schemas/types.ReviewEntityType"},"images":{"type":"array","items":{"type":"string"}},"rating":{"maximum":5,"minimum":1,"type":"number"},"tags":{"type":"array","items":{"type":"string"}},"title":{"maxLength":255,"type":"string"}}},"dto.FeedRequest":{"required":["sections"],"type":"object","properties":{"end_time":{"type":"string"},"expand":{"type":"string"},"limit":{"maximum":1000,"minimum":1,"type":"integer"},"min_rating_avg":{"type":"number"},"min_rating_count":{"minimum":0,"type":"integer","description":"Optional quality gate (global; section can override)"},"offset":{"minimum":0,"type":"integer"},"order":{"type":"string","enum":["asc","desc"]},"sections":{"maxItems":10,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/dto.FeedSectionRequest"}},"sort":{"type":"string"},"start_time":{"type":"string"},"status":{"$ref":"#/components/schemas/types.Status"}}},"dto.FeedResponse":{"type":"object","properties":{"sections":{"type":"array","items":{"$ref":"#/components/schemas/dto.FeedSectionResponse"}}}},"dto.FeedSectionRequest":{"required":["type"],"type":"object","properties":{"center":{"$ref":"#/components/schemas/types.GeoPoint"},"end_time":{"type":"string"},"expand":{"type":"string"},"limit":{"maximum":1000,"minimum":1,"type":"integer"},"min_rating_avg":{"type":"number"},"min_rating_count":{"minimum":0,"type":"integer","description":"Optional quality gate (section-level; overrides global)"},"offset":{"minimum":0,"type":"integer"},"order":{"type":"string","enum":["asc","desc"]},"radius_km":{"maximum":50,"minimum":0.1,"type":"number"},"sort":{"type":"string"},"start_time":{"type":"string"},"status":{"$ref":"#/components/schemas/types.Status"},"type":{"$ref":"#/components/schemas/types.FeedSectionType"}}},"dto.FeedSectionResponse":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/dto.PlaceResponse"}},"pagination":{"$ref":"#/components/schemas/types.PaginationResponse"},"type":{"$ref":"#/components/schemas/types.FeedSectionType"}}},"dto.ListAPIKeysResponse":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/dto.APIKeyResponse"}},"total":{"type":"integer"}}},"dto.ListCategoriesResponse":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/dto.CategoryResponse"}},"pagination":{"$ref":"#/components/schemas/types.PaginationResponse"}}},"dto.ListPlacesResponse":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/dto.PlaceResponse"}},"pagination":{"$ref":"#/components/schemas/types.PaginationResponse"}}},"dto.MeResponse":{"type":"object","properties":{"created_at":{"type":"string"},"created_by":{"type":"string"},"email":{"type":"string"},"id":{"type":"string"},"metadata":{"$ref":"#/components/schemas/types.Metadata"},"name":{"type":"string"},"phone":{"type":"string"},"role":{"$ref":"#/components/schemas/types.UserRole"},"status":{"$ref":"#/components/schemas/types.Status"},"updated_at":{"type":"string"},"updated_by":{"type":"string"}}},"dto.PlaceImageResponse":{"type":"object","properties":{"alt":{"type":"string"},"created_at":{"type":"string"},"created_by":{"type":"string"},"id":{"type":"string"},"metadata":{"$ref":"#/components/schemas/types.Metadata"},"place_id":{"type":"string"},"pos":{"type":"integer"},"status":{"$ref":"#/components/schemas/types.Status"},"updated_at":{"type":"string"},"updated_by":{"type":"string"},"url":{"type":"string"}}},"dto.PlaceResponse":{"type":"object","properties":{"address":{"type":"object","additionalProperties":{"type":"string"}},"categories":{"type":"array","items":{"$ref":"#/components/schemas/dto.CategoryResponse"}},"created_at":{"type":"string"},"created_by":{"type":"string"},"id":{"type":"string"},"images":{"type":"array","items":{"$ref":"#/components/schemas/dto.PlaceImageResponse"}},"location":{"$ref":"#/components/schemas/types.GeoPoint"},"long_description":{"type":"string"},"place_type":{"$ref":"#/components/schemas/types.PlaceType"},"popularity_score":{"type":"number"},"primary_image_url":{"type":"string"},"rating_avg":{"type":"number"},"rating_count":{"type":"integer"},"short_description":{"type":"string"},"slug":{"type":"string"},"status":{"$ref":"#/components/schemas/types.Status"},"subtitle":{"type":"string"},"thumbnail_url":{"type":"string"},"title":{"type":"string"},"updated_at":{"type":"string"},"updated_by":{"type":"string"},"view_count":{"type":"integer","description":"Engagement fields for feed functionality"}}},"dto.RatingStatsResponse":{"type":"object","properties":{"average_rating":{"type":"number"},"entity_id":{"type":"string"},"entity_type":{"$ref":"#/components/schemas/types.ReviewEntityType"},"five_star_count":{"type":"integer"},"four_star_count":{"type":"integer"},"one_star_count":{"type":"integer"},"rating_distribution":{"type":"object","additionalProperties":{"type":"integer"},"description":"rating -> count"},"reviews_with_content":{"type":"integer"},"reviews_with_images":{"type":"integer"},"three_star_count":{"type":"integer"},"total_reviews":{"type":"integer"},"two_star_count":{"type":"integer"},"verified_reviews":{"type":"integer"}}},"dto.ReviewResponse":{"type":"object","properties":{"content":{"type":"string"},"created_at":{"type":"string"},"created_by":{"type":"string"},"entity_id":{"type":"string"},"entity_type":{"$ref":"#/components/schemas/types.ReviewEntityType"},"helpful_count":{"type":"integer"},"id":{"type":"string"},"images":{"type":"array","items":{"type":"string"}},"is_featured":{"type":"boolean"},"is_verified":{"type":"boolean"},"not_helpful_count":{"type":"integer"},"rating":{"type":"number"},"status":{"$ref":"#/components/schemas/types.Status"},"tags":{"type":"array","items":{"type":"string"}},"title":{"type":"string"},"updated_at":{"type":"string"},"updated_by":{"type":"string"},"user_id":{"type":"string"}}},"dto.SignupRequest":{"required":["access_token","email","name"],"type":"object","properties":{"access_token":{"type":"string","description":"access token"},"email":{"type":"string","description":"basic info"},"name":{"type":"string"},"phone":{"type":"string"}}},"dto.SignupResponse":{"type":"object","properties":{"access_token":{"type":"string"},"id":{"type":"string"}}},"dto.UpdateAPIKeyRequest":{"type":"object","properties":{"name":{"maxLength":255,"minLength":2,"type":"string"},"permissions":{"type":"array","items":{"type":"string"}},"status":{"$ref":"#/components/schemas/types.Status"}}},"dto.UpdateCategoryRequest":{"type":"object","properties":{"description":{"maxLength":2000,"type":"string"},"name":{"maxLength":255,"minLength":2,"type":"string"},"slug":{"maxLength":100,"minLength":3,"type":"string"}}},"dto.UpdatePlaceImageRequest":{"type":"object","properties":{"alt":{"type":"string"},"metadata":{"$ref":"#/components/schemas/types.Metadata"},"pos":{"minimum":0,"type":"integer"},"url":{"type":"string"}}},"dto.UpdatePlaceRequest":{"type":"object","properties":{"address":{"type":"object","additionalProperties":{"type":"string"}},"location":{"$ref":"#/components/schemas/types.GeoPoint"},"long_description":{"maxLength":10000,"type":"string"},"primary_image_url":{"maxLength":500,"type":"string"},"short_description":{"maxLength":1000,"type":"string"},"slug":{"maxLength":100,"minLength":3,"type":"string"},"subtitle":{"maxLength":500,"type":"string"},"thumbnail_url":{"maxLength":500,"type":"string"},"title":{"maxLength":255,"minLength":2,"type":"string"}}},"dto.UpdateReviewRequest":{"type":"object","properties":{"content":{"maxLength":3000,"type":"string"},"images":{"type":"array","items":{"type":"string"}},"rating":{"maximum":5,"minimum":1,"type":"number"},"tags":{"type":"array","items":{"type":"string"}},"title":{"maxLength":255,"type":"string"}}},"dto.UpdateUserRequest":{"type":"object","properties":{"name":{"maxLength":255,"minLength":2,"type":"string"},"phone":{"maxLength":20,"minLength":10,"type":"string"}}},"ierr.ErrorDetail":{"type":"object","properties":{"details":{"type":"object","additionalProperties":{"type":"object"}},"internal_error":{"type":"string"},"message":{"type":"string"}}},"ierr.ErrorResponse":{"type":"object","properties":{"error":{"$ref":"#/components/schemas/ierr.ErrorDetail"},"success":{"type":"boolean"}}},"place.PlaceImage":{"type":"object","properties":{"alt":{"type":"string"},"created_at":{"type":"string"},"created_by":{"type":"string"},"id":{"type":"string"},"metadata":{"$ref":"#/components/schemas/types.Metadata"},"place_id":{"type":"string"},"pos":{"type":"integer"},"status":{"$ref":"#/components/schemas/types.Status"},"updated_at":{"type":"string"},"updated_by":{"type":"string"},"url":{"type":"string"}}},"types.FeedSectionType":{"type":"string","enum":["latest","trending","popular","nearby","discover"],"x-enum-varnames":["SectionTypeLatest","SectionTypeTrending","SectionTypePopular","SectionTypeNearby","SectionTypeDiscover"]},"types.GeoPoint":{"type":"object","properties":{"latitude":{"type":"number"},"longitude":{"type":"number"}}},"types.ListResponse-dto_ReviewResponse":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/dto.ReviewResponse"}},"pagination":{"$ref":"#/components/schemas/types.PaginationResponse"}}},"types.Metadata":{"type":"object","additionalProperties":{"type":"string"}},"types.PaginationResponse":{"type":"object","properties":{"limit":{"type":"integer"},"offset":{"type":"integer"},"total":{"type":"integer"}}},"types.PlaceType":{"type":"string","enum":["temple","restaurant","museum","park","experience"],"x-enum-varnames":["PlaceTypeTemple","PlaceTypeRestaurant","PlaceTypeMuseum","PlaceTypePark","PlaceTypeExperience"]},"types.ReviewEntityType":{"type":"string","enum":["place","hotel","restaurant","event","experience","attraction"],"x-enum-varnames":["EntityTypePlace","EntityTypeHotel","EntityTypeRestaurant","EntityTypeEvent","EntityTypeExperience","EntityTypeAttraction"]},"types.Status":{"type":"string","enum":["published","draft","archived","deleted"],"x-enum-varnames":["StatusPublished","StatusDraft","StatusArchived","StatusDeleted"]},"types.UserRole":{"type":"string","enum":["USER","ADMIN"],"x-enum-varnames":["UserRoleUser","UserRoleAdmin"]}},"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","description":"API key for server-to-server or script access. Use X-API-Key header (alternative to Bearer).","name":"X-API-Key","in":"header"},"Authorization":{"type":"apiKey","description":"JWT Bearer token, e.g. `Bearer <token>`.","name":"Authorization","in":"header"}}},"x-original-swagger-version":"2.0"}